<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>School Shop ‚Äî Student Seller</title>
<style>
  :root{--bg:#0f1115;--card:#161a22;--text:#e8ecf3;--muted:#8b95a7;--ring:0 0 0 3px #67b7ff33}
  body{margin:0;font-family:system-ui,sans-serif;background:var(--bg);color:var(--text)}
  .wrap{max-width:1000px;margin:auto;padding:16px}
  .grid{display:grid;gap:14px;grid-template-columns:repeat(12,1fr)}
  @media(max-width:760px){.grid{grid-template-columns:repeat(6,1fr)}}
  .card{grid-column:span 6;background:var(--card);border-radius:14px;overflow:hidden;display:flex;flex-direction:column}
  .media{aspect-ratio:16/10;background:#121621;display:grid;place-items:center;font-size:52px;overflow:hidden}
  .content{padding:14px;display:grid;gap:10px}
  .row{display:flex;gap:10px;align-items:center}
  .btn{padding:10px 12px;border-radius:10px;border:1px solid #2a3142;background:#141a26;color:var(--text);cursor:pointer}
  .btn.buy{background:linear-gradient(180deg,#1c7426,#0d5817);border-color:#1b7d2b}
  input[type="file"]{display:none}
</style>
</head>
<body>
<div class="wrap">
<h1>School Shop</h1>
<section class="grid" id="products">
  <article class="card" data-id="1">
    <div class="media" id="img1">‚å®Ô∏è</div>
    <div class="content">
      <div class="row"><strong>Keyboard Fidgets</strong></div>
      <div class="row">
        <button class="btn buy" type="button" data-name="Keyboard Fidgets">Reserve</button>
        <button class="btn" type="button" onclick="addPhoto('1')">Add Photo</button>
        <input type="file" id="file1" accept="image/*" onchange="loadPhoto(event,'1')">
      </div>
    </div>
  </article>
  <article class="card" data-id="2">
    <div class="media" id="img2">üßä</div>
    <div class="content">
      <div class="row"><strong>Infinity Cube</strong></div>
      <div class="row">
        <button class="btn buy" type="button" data-name="Infinity Cube">Reserve</button>
        <button class="btn" type="button" onclick="addPhoto('2')">Add Photo</button>
        <input type="file" id="file2" accept="image/*" onchange="loadPhoto(event,'2')">
      </div>
    </div>
  </article>
</section>

<section id="order">
<form id="orderForm">
  <label>Name:<input name="buyer" required></label>
  <label>Contact:<input name="contact" required></label>
  <label>Item:
    <select name="item" id="item" required>
      <option>Keyboard Fidgets</option>
      <option>Infinity Cube</option>
    </select>
  </label>
  <label>Qty:<input type="number" name="qty" min="1" value="1" required></label>
  <label>Notes:<textarea name="details" rows="3"></textarea></label>
  <button type="submit" class="btn buy">Send Order (Email)</button>
</form>
</section>
</div>

<script>
  // Load photos from localStorage
  window.addEventListener('load', ()=>{
    for(let i=1;i<=10;i++){
      const data = localStorage.getItem('productImg'+i);
      if(data) document.getElementById('img'+i).innerHTML = `<img src="${data}" style="width:100%;height:100%;object-fit:cover">`;
    }
  });

  // Reserve buttons
  document.querySelectorAll('.btn.buy[type="button"]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      document.getElementById('item').value = btn.dataset.name;
      window.scrollTo({top: document.getElementById('order').offsetTop, behavior:'smooth'});
    });
  });

  // Email form
  document.getElementById('orderForm').addEventListener('submit', e=>{
    e.preventDefault();
    const data = new FormData(e.target);
    const subject = encodeURIComponent(`Order: ${data.get('item')} x${data.get('qty')} ‚Äî ${data.get('buyer')}`);
    const body = encodeURIComponent(`Name: ${data.get('buyer')}\nContact: ${data.get('contact')}\nItem: ${data.get('item')}\nQty: ${data.get('qty')}\nNotes: ${data.get('details')}`);
    window.location.href = `mailto:youremail@example.com?subject=${subject}&body=${body}`;
  });

  // Add photo
  function addPhoto(id){ document.getElementById('file'+id).click(); }
  function loadPhoto(event,id){
    const file = event.target.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = e=>{
        document.getElementById('img'+id).innerHTML = `<img src="${e.target.result}" style="width:100%;height:100%;object-fit:cover">`;
        localStorage.setItem('productImg'+id, e.target.result);
      }
      reader.readAsDataURL(file);
    }
  }
</script>
</body>
</html>
